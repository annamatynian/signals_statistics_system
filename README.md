# Signal Statistics System

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Ç–æ—Ä–≥–æ–≤—ã–º —Å–∏–≥–Ω–∞–ª–∞–º –∏–∑ Telegram –∫–∞–Ω–∞–ª–æ–≤ —Å –≥–∏–±–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —Å–∏–≥–Ω–∞–ª–æ–≤.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ **–£–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–∫–æ–º –∫–∞–Ω–∞–ª–æ–≤** - –¥–æ–±–∞–≤–ª—è—Ç—å, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–∫–ª—é—á–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö Telegram –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—Ç—Ä–∞–±–æ—Ç–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤ (TP/SL)
- ‚úÖ –°–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤–∏–Ω—Ä–µ–π—Ç—É –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- ‚úÖ –•—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ JSON –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üéØ –ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤

**–ö–∞–Ω–∞–ª** - —ç—Ç–æ –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Telegram –∫–∞–Ω–∞–ª "CryptoVIP").

#### –ó–∞—á–µ–º –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏?

1. **–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
2. **–ì–∏–±–∫–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ
3. **–ß–∏—Å—Ç–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Ç–µ—Ç –≤–º–µ—Å—Ç–µ —Å –≤–∞—à–∏–º–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏

#### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–∞–Ω–∞–ª–∞

```
[–î–æ–±–∞–≤–ª–µ–Ω–∏–µ] ‚Üí [–ê–∫—Ç–∏–≤–µ–Ω] ‚áÑ [–û—Ç–∫–ª—é—á–µ–Ω] ‚Üí [–£–¥–∞–ª–µ–Ω–∏–µ]
                  ‚Üì
            [–°–±–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤]
                  ‚Üì
            [–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]
```

**–°–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–Ω–∞–ª–∞:**
- üü¢ **–ê–∫—Ç–∏–≤–µ–Ω** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
- üî¥ **–û—Ç–∫–ª—é—á–µ–Ω** - –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã, —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

### –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏**: –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –¥–≤–∞ –∫–∞–Ω–∞–ª–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º (case-insensitive)  
‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞**: –ö–∞–Ω–∞–ª –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º  
‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**: –í `/stats` –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã  
‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏**: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –Ω–µ —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Å–∏–≥–Ω–∞–ª—ã  

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤**, **Dependency Injection** –∏ **–º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**.

```
signal_statistics_system/
‚îú‚îÄ‚îÄ src/                    # –í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ models/            # Pydantic –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ signal.py      # –ú–æ–¥–µ–ª—å —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channel.py     # üÜï –ú–æ–¥–µ–ª—å –∫–∞–Ω–∞–ª–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ price.py       # –ú–æ–¥–µ–ª—å —Ü–µ–Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ alert.py       # –¢–∏–ø—ã –±–∏—Ä–∂ –∏ –∞–ª–µ—Ä—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ exchanges/         # –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –±–∏—Ä–∂
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py        # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bybit.py       # Bybit API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ binance.py     # Binance API
‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ price_checker.py    # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ signal_tracker.py   # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ storage/           # –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py        # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (+ –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ json_storage.py     # JSON —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # Telegram bot handlers
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ commands.py    # –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (+ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏)
‚îÇ   ‚îú‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Pydantic Settings)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.py      # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_signal_model.py
‚îú‚îÄ‚îÄ data/                  # –î–∞–Ω–Ω—ã–µ (JSON –±–∞–∑–∞)
‚îÇ   ‚îî‚îÄ‚îÄ signals.json       # –•—Ä–∞–Ω–∏–ª–∏—â–µ (channels + signals + users)
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md             # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
cd signal_statistics_system
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à Telegram Bot Token
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.env`:
```env
TELEGRAM_BOT_TOKEN="your_bot_token_here"
```

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python src/main.py
```

### üìã –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å (–ø–æ—à–∞–≥–æ–≤–æ)

#### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

```
/add_channel CryptoVIP –õ—É—á—à–∏–µ –∫—Ä–∏–ø—Ç–æ —Å–∏–≥–Ω–∞–ª—ã
/add_channel TradeGuru –°–∏–≥–Ω–∞–ª—ã –ø–æ BTC/ETH
/add_channel SignalPro –§—å—é—á–µ—Ä—Å—ã
```

#### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤

```
/list_channels
```

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
üìã –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤:

üü¢ –ê–∫—Ç–∏–≤–Ω—ã–µ:
  ‚Ä¢ CryptoVIP - –õ—É—á—à–∏–µ –∫—Ä–∏–ø—Ç–æ —Å–∏–≥–Ω–∞–ª—ã
  ‚Ä¢ TradeGuru - –°–∏–≥–Ω–∞–ª—ã –ø–æ BTC/ETH
  ‚Ä¢ SignalPro - –§—å—é—á–µ—Ä—Å—ã

üìä –í—Å–µ–≥–æ: 3 –∫–∞–Ω–∞–ª–æ–≤
  ‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö: 3
  ‚Ä¢ –û—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö: 0
```

#### –®–∞–≥ 3: –î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–∏–≥–Ω–∞–ª—ã

```
/add_signal CryptoVIP BTCUSDT 65000 70000 64000
/add_signal TradeGuru ETHUSDT 3500 3700 3400
```

#### –®–∞–≥ 4: –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

```
/stats
```

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º:

üî• CryptoVIP
  ‚Ä¢ ‚úÖ Wins: 8
  ‚Ä¢ ‚ùå Losses: 2
  ‚Ä¢ ‚è≥ Pending: 3
  ‚Ä¢ üìà Winrate: 80.0%
  ‚Ä¢ üìä Total closed: 10
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚úÖ TradeGuru
  ‚Ä¢ ‚úÖ Wins: 5
  ‚Ä¢ ‚ùå Losses: 5
  ‚Ä¢ ‚è≥ Pending: 1
  ‚Ä¢ üìà Winrate: 50.0%
  ‚Ä¢ üìä Total closed: 10
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìà –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  ‚Ä¢ Total Wins: 13
  ‚Ä¢ Total Losses: 7
  ‚Ä¢ Total Pending: 4
  ‚Ä¢ Overall Winrate: 65.0%
```

#### –®–∞–≥ 5: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏

**–û—Ç–∫–ª—é—á–∏—Ç—å –∫–∞–Ω–∞–ª** (–µ—Å–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º):
```
/disable_channel SignalPro
```

**–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª** (–µ—Å–ª–∏ —Ä–µ—à–∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å):
```
/enable_channel SignalPro
```

### ü§ñ –ö–æ–º–∞–Ω–¥—ã Telegram –±–æ—Ç–∞

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `/add_channel <–Ω–∞–∑–≤–∞–Ω–∏–µ> [–æ–ø–∏—Å–∞–Ω–∏–µ]` | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª | `/add_channel CryptoVIP` |
| `/list_channels` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞–Ω–∞–ª—ã | `/list_channels` |
| `/enable_channel <–Ω–∞–∑–≤–∞–Ω–∏–µ>` | –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª | `/enable_channel CryptoVIP` |
| `/disable_channel <–Ω–∞–∑–≤–∞–Ω–∏–µ>` | –û—Ç–∫–ª—é—á–∏—Ç—å –∫–∞–Ω–∞–ª | `/disable_channel CryptoVIP` |

#### –†–∞–±–æ—Ç–∞ —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `/add_signal <–∫–∞–Ω–∞–ª> <–ø–∞—Ä–∞> <–≤—Ö–æ–¥> <—Ü–µ–ª—å> <—Å—Ç–æ–ø>` | –î–æ–±–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞–ª | `/add_signal CryptoVIP BTCUSDT 65000 70000 64000` |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º | `/stats` |

#### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º |
| `/help` | –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
pytest
```

### –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

```bash
pytest --cov=src --cov-report=html
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

```bash
pytest tests/test_signal_model.py -v
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|--------------|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** |
| `CHECK_INTERVAL_SECONDS` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–Ω (—Å–µ–∫) | 300 (5 –º–∏–Ω) |
| `STORAGE_FILE_PATH` | –ü—É—Ç—å –∫ JSON —Ñ–∞–π–ª—É | data/signals.json |
| `LOG_LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | INFO |
| `BYBIT_API_KEY` | API –∫–ª—é—á Bybit (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | - |
| `BINANCE_API_KEY` | API –∫–ª—é—á Binance (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | - |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** API –∫–ª—é—á–∏ –±–∏—Ä–∂ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ endpoints.

## üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Channel (–ö–∞–Ω–∞–ª —Å–∏–≥–Ω–∞–ª–æ–≤) üÜï

```python
{
    "id": "uuid",
    "name": "CryptoVIP",
    "is_active": true,
    "description": "–õ—É—á—à–∏–µ –∫—Ä–∏–ø—Ç–æ —Å–∏–≥–Ω–∞–ª—ã",
    "telegram_url": "https://t.me/cryptovip",
    "added_at": "2025-01-15T10:00:00",
    "disabled_at": null,
    "added_by_user_id": "telegram_user_id"
}
```

**–ü–æ–ª—è:**
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, case-insensitive)
- `is_active` - –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –∫–∞–Ω–∞–ª (true/false)
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `telegram_url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `added_at` - –∫–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω
- `disabled_at` - –∫–æ–≥–¥–∞ –æ—Ç–∫–ª—é—á–µ–Ω (null –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω)
- `added_by_user_id` - –∫—Ç–æ –¥–æ–±–∞–≤–∏–ª

### Signal (–¢–æ—Ä–≥–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª)

```python
{
    "id": "uuid",
    "channel_name": "CryptoVIP",  # –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–∞–Ω–∞–ª—É
    "symbol": "BTCUSDT",
    "entry_price": 65000.0,
    "target_price": 70000.0,
    "stop_loss": 64000.0,
    "status": "pending",  # pending | target_hit | stop_hit
    "user_id": "telegram_user_id",
    "created_at": "2025-01-15T10:00:00",
    "closed_at": null
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

```json
{
    "channels": [
        {
            "id": "...",
            "name": "CryptoVIP",
            "is_active": true,
            ...
        }
    ],
    "signals": [
        {
            "id": "...",
            "channel_name": "CryptoVIP",
            "symbol": "BTCUSDT",
            ...
        }
    ],
    "users": {
        "user_id": {
            "chat_id": "chat_id"
        }
    }
}
```

## üîÑ –õ–æ–≥–∏–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

### LONG —Å–∏–≥–Ω–∞–ª—ã (target > stop_loss)
- ‚úÖ **TARGET_HIT**: —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ >= target_price
- ‚ùå **STOP_HIT**: —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ <= stop_loss

### SHORT —Å–∏–≥–Ω–∞–ª—ã (target < stop_loss)
- ‚úÖ **TARGET_HIT**: —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ <= target_price
- ‚ùå **STOP_HIT**: —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ >= stop_loss

## üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–∞–Ω–∞–ª–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–∏ (case-insensitive)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID
- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∞–∫—Ç–∏–≤–µ–Ω

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞
- ‚úÖ –ö–∞–Ω–∞–ª –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
- ‚úÖ –ö–∞–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º
- ‚úÖ –í—Å–µ —Ü–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å > 0 (Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è)

### –í —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- ‚úÖ –°—Ç–∞—Ä—ã–µ —Å–∏–≥–Ω–∞–ª—ã –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –ù–ï —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ Case-insensitive –ø–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞

```bash
# 1. –î–æ–±–∞–≤–ª—è–µ–º –∫–∞–Ω–∞–ª –Ω–∞ –∏—Å–ø—ã—Ç–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ä–æ–∫
/add_channel NewSignals –ù–æ–≤—ã–π –∫–∞–Ω–∞–ª –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ

# 2. –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤
/add_signal NewSignals BTCUSDT 65000 70000 64000
/add_signal NewSignals ETHUSDT 3500 3700 3400

# 3. –ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü —Å–º–æ—Ç—Ä–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
/stats

# 4. –ï—Å–ª–∏ –≤–∏–Ω—Ä–µ–π—Ç –ø–ª–æ—Ö–æ–π - –æ—Ç–∫–ª—é—á–∞–µ–º
/disable_channel NewSignals
```

### –ü—Ä–∏–º–µ—Ä 2: –°–µ–∑–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –í–µ—Å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω—ã –∞–ª—å—Ç–∫–æ–∏–Ω—ã
/add_channel AltSeasonPro –ê–ª—å—Ç–∫–æ–∏–Ω —Å–µ–∑–æ–Ω
/add_signal AltSeasonPro ADAUSDT 0.50 0.60 0.48

# –ó–∏–º–æ–π –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ BTC
/disable_channel AltSeasonPro
/enable_channel BitcoinMaxi
```

### –ü—Ä–∏–º–µ—Ä 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤

```bash
# –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤
/add_channel Free –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
/add_channel Premium –ü–ª–∞—Ç–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã VIP

# –î–æ–±–∞–≤–ª—è–µ–º —Å–∏–≥–Ω–∞–ª—ã —Å –æ–±–æ–∏—Ö
# ...

# –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
/stats

# –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ—Ç –∫–∞–∫–æ–π –∫–∞–Ω–∞–ª —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ
```

## üèõÔ∏è –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–∏–∑–∞–π–Ω–∞

### SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **S**ingle Responsibility: –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **O**pen/Closed: —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- **L**iskov Substitution: –≤—Å–µ –±–∏—Ä–∂–∏ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã
- **I**nterface Segregation: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- **D**ependency Inversion: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã
- **Repository Pattern**: StorageBase –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **Strategy Pattern**: ExchangeBase –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –±–∏—Ä–∂
- **Singleton Pattern**: get_settings() –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **Dependency Injection**: —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤

### Async/Await
- –í—Å–µ IO –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## üì¶ –î–µ–ø–ª–æ–π

### Leapcell (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# leapcell.yaml —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
leapcell deploy
```

### Docker (TODO)

```dockerfile
# Dockerfile –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∑–∂–µ
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
black src/ tests/
isort src/ tests/
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```bash
mypy src/
```

### –õ–∏–Ω—Ç–∏–Ω–≥

```bash
flake8 src/ tests/
```

## üìù TODO

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è Channel –º–æ–¥–µ–ª–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è storage –º–µ—Ç–æ–¥–æ–≤ –∫–∞–Ω–∞–ª–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å Docker –ø–æ–¥–¥–µ—Ä–∂–∫—É
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å PostgreSQL storage (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ CSV/Excel
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –≤–∏–Ω—Ä–µ–π—Ç–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/delete_channel` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è

## ‚ùì FAQ

**Q: –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏ –µ—Å–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–∞–Ω–∞–ª?**  
A: –í—Å–µ —Å–∏–≥–Ω–∞–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —ç—Ç–æ–º—É –∫–∞–Ω–∞–ª—É –Ω–µ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –≤ `/stats`. –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∫–∞–Ω–∞–ª –æ–±—Ä–∞—Ç–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª?**  
A: –ü–æ–∫–∞ –Ω–µ—Ç, –Ω–æ —ç—Ç–æ –≤ –ø–ª–∞–Ω–∞—Ö. –°–µ–π—á–∞—Å –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π.

**Q: –†–µ–≥–∏—Å—Ç—Ä –≤–∞–∂–µ–Ω –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–∞–Ω–∞–ª–∞?**  
A: –ù–µ—Ç, "CryptoVIP", "cryptovip" –∏ "CRYPTOVIP" —Å—á–∏—Ç–∞—é—Ç—Å—è –æ–¥–Ω–∏–º –∫–∞–Ω–∞–ª–æ–º.

**Q: –°–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å?**  
A: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º 5-10 –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üë§ –ê–≤—Ç–æ—Ä

Anna M.

---

**–í–µ—Ä—Å–∏—è:** 1.1.0 (–¥–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏)  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-15
