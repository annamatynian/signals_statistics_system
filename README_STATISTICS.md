# üìä Signal Statistics System

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–Ω—Ä–µ–π—Ç–∞ —Ç–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª–æ–≤ —Å —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É ID
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ WIN/LOSS –ø–æ TP/SL
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–Ω—Ä–µ–π—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª–∞
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Gradio
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Binance, Bybit, Coinbase

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
python3 run.py
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```
http://localhost:7860
```

## üìù –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "‚ûï Add Signal"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Signal Name**: –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "BTC Long")
   - **Telegram Channel Name**: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
   - **Trading Symbol**: –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, BTCUSDT)
   - **Exchange**: –ë–∏—Ä–∂–∞ (Binance, Bybit, Coinbase)
   - **Take Profit (TP)**: –¶–µ–Ω–∞ –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª–∏
   - **Stop Loss (SL)**: –¶–µ–Ω–∞ –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ —É–±—ã—Ç–∫–∞
3. –ù–∞–∂–º–∏—Ç–µ "Add Signal"

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "üìã Active Signals"
2. –£–≤–∏–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
3. –ù–∞–∂–º–∏—Ç–µ "üîÑ Refresh" –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "üìä Channel Statistics"
2. –£–≤–∏–¥–∏—Ç–µ:
   - –¢–∞–±–ª–∏—Ü—É —Å –≤–∏–Ω—Ä–µ–π—Ç–æ–º –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
   - –û–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - –õ—É—á—à–∏–π –∏ —Ö—É–¥—à–∏–π –∫–∞–Ω–∞–ª—ã
3. –ù–∞–∂–º–∏—Ç–µ "üîÑ Refresh Statistics" –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞
- –í—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —Å–∏–≥–Ω–∞–ª —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
- –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID
- –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ TP/SL (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –ö–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–Ω—ã
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –¥–æ—Å—Ç–∏–≥–ª–∞ **TP** = —Å–∏–≥–Ω–∞–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **WIN** ‚úÖ
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –¥–æ—Å—Ç–∏–≥–ª–∞ **SL** = —Å–∏–≥–Ω–∞–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **LOSS** ‚ùå

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–∏–≥–Ω–∞–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–∏–Ω—Ä–µ–π—Ç: `(Wins / Closed Signals) * 100%`

## üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Signal (–°–∏–≥–Ω–∞–ª)
```python
{
  "id": "uuid",
  "name": "BTC Long",
  "channel_name": "VIP Crypto Signals",  # –ù–æ–≤–æ–µ!
  "symbol": "BTCUSDT",
  "take_profit": 55000.0,  # –ù–æ–≤–æ–µ!
  "stop_loss": 48000.0,    # –ù–æ–≤–æ–µ!
  "status": "active",       # active, closed
  "outcome": "pending",     # pending, win, loss
  "closed_at": null
}
```

### Channel Statistics (–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞)
```python
{
  "channel_name": "VIP Crypto Signals",
  "total_signals": 100,
  "wins": 65,
  "losses": 35,
  "winrate": 65.0  # –ø—Ä–æ—Ü–µ–Ω—Ç
}
```

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
signals_statistics_system/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ signal.py          # –ú–æ–¥–µ–ª—å —Å–∏–≥–Ω–∞–ª–∞ (—Å TP/SL, outcome)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channel.py         # –ú–æ–¥–µ–ª—å –∫–∞–Ω–∞–ª–∞ (–Ω–æ–≤–∞—è!)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ price.py           # –ú–æ–¥–µ–ª—å —Ü–µ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channel_manager.py   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏ (–Ω–æ–≤—ã–π!)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stats_calculator.py  # –ü–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–Ω–æ–≤—ã–π!)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ signal_manager.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞–º–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ price_checker.py     # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ json_storage.py      # JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (—Ä–∞—Å—à–∏—Ä–µ–Ω)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base.py              # –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gradio_interface.py  # Gradio –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–æ–≤—ã–π!)
‚îÇ   ‚îú‚îÄ‚îÄ exchanges/               # –ê–¥–∞–ø—Ç–µ—Ä—ã –±–∏—Ä–∂
‚îÇ   ‚îî‚îÄ‚îÄ main_new.py              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
‚îú‚îÄ‚îÄ run.py                       # –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
‚îú‚îÄ‚îÄ test_integration.py          # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ data/
    ‚îî‚îÄ‚îÄ signals.json             # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (JSON)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

```bash
python3 test_integration.py
```

–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (WIN/LOSS)
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤–∏–Ω—Ä–µ–π—Ç–∞

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞

### –ß—Ç–æ —É–±—Ä–∞–ª–∏:
- ‚ùå –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (auth_service.py)
- ‚ùå Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (notification.py)
- ‚ùå Telegram Bot (–Ω–µ –Ω—É–∂–µ–Ω)
- ‚ùå Google Sheets reader (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ß—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏:
- ‚úÖ –ú–æ–¥–µ–ª—å Channel –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ –ü–æ–ª–µ channel_name –≤ Signal
- ‚úÖ –ü–æ–ª—è take_profit –∏ stop_loss
- ‚úÖ –ü–æ–ª–µ outcome (win/loss/pending)
- ‚úÖ ChannelManager –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞–º–∏
- ‚úÖ StatsCalculator –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –≤–∏–Ω—Ä–µ–π—Ç–∞
- ‚úÖ Gradio –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ WIN/LOSS

## üìà –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞

1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –í–≤–æ–¥–∏—Ç–µ:
   - Signal Name: "BTC Long #1"
   - Channel Name: "VIP Crypto Signals"
   - Symbol: "BTCUSDT"
   - Exchange: "binance"
   - TP: 55000
   - SL: 48000
3. –ù–∞–∂–∏–º–∞–µ—Ç–µ "Add Signal"
4. –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–∏–≥–Ω–∞–ª

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ

1. –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–Ω—É –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
2. –ï—Å–ª–∏ BTC —Ü–µ–Ω–∞ = $55,000 ‚Üí —Å–∏–≥–Ω–∞–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **WIN** ‚úÖ
3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
   - Wins: +1
   - Winrate –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –≤–∫–ª–∞–¥–∫—É "Channel Statistics"
2. –í–∏–¥–∏—Ç–µ:
   ```
   Channel: VIP Crypto Signals
   Total: 10 signals
   Wins: 7
   Losses: 3
   Winrate: 70.0%
   ```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è:
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ ID
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è WIN/LOSS
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç–∞ –≤–∏–Ω—Ä–µ–π—Ç–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª–∞
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –Ω–∞ –±–∞–∑–µ:** signals_statistics_system
**–í–µ—Ä—Å–∏—è:** 2.0 (Statistics Edition)
**–î–∞—Ç–∞:** 2025-11-18
